@import "tailwindcss";
@plugin "@tailwindcss/typography";

:root {
  --background: #1A0B2E;
  --foreground: #F0F0F0;
  --theme-accent: #00FF00;
  /* Default Neon Green */
}

@theme {
  /* Colors */
  --color-neon-green: #00FF00;
  --color-deep-void: #1A0B2E;
  --color-hot-pink: #FF00FF;
  --color-electric-yellow: #FFFF00;
  --color-off-white: #F0F0F0;

  /* Fonts */
  --font-display: var(--font-syne), sans-serif;
  --font-mono: var(--font-space-mono), monospace;
  --font-body: var(--font-inter), sans-serif;

  /* Borders */
  --border-width-3: 3px;
  --border-width-4: 4px;

  /* Shadows */
  --shadow-hard: 8px 8px 0px #000000;
}

/* Global Styles */
body {
  background-color: var(--color-deep-void);
  color: var(--color-off-white);
  font-family: var(--font-body);
}

/* Custom Utilities */
.font-display {
  font-family: var(--font-display);
  letter-spacing: -0.04em;
  text-transform: uppercase;
  line-height: 0.9;
}

.font-mono {
  font-family: var(--font-mono);
  text-transform: uppercase;
}

/* Scrollbar Customization */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--color-deep-void);
}

::-webkit-scrollbar-thumb {
  background: var(--color-neon-green);
  border: 2px solid var(--color-deep-void);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-hot-pink);
}

/* Selection */
::selection {
  color: black;
}

@layer utilities {
  .text-stroke-thin {
    -webkit-text-stroke: 1px currentColor;
  }
}

/* Wiki Content Overrides (Neo-Brutalist Interpretation) */
/* Wiki Content Overrides (Neo-Brutalist "Mission Briefing" Style) */
.nicopedia-content {

  /* --- 1. Cleanup & De-Clutter --- */
  .infobox,
  .tright,
  .tleft,
  .thumb,
  /* Note: We might want to keep images if they ARE inline, but usually 'thumb' wrappers are messy. Let's hide sidebar thumbs but keep main images if possible. Wikipedia uses .thumb for most images though. If we hide .thumb, we hide images. The prompt said "If the HTML contains images (figure, img)...". Wikipedia images are often inside .thumb. Let's try to UNSET display none for .thumb but style it? Or maybe just target img inside.
     Actually, standard Wikipedia dumps images in .thumb tright. If we hide it, we see no images. 
     Let's try to SHOW .thumb but float it better? 
     Or, for now, strictly follow the "Hide" list from the prompt? 
     Prompt said "Hide... .infobox, .mw-editsection". It did NOT explicitly list .thumb in the hidden section in the NEW prompt (Section 6), but the PREVIOUS implementation hid it. 
     The NEW prompt (Section 5) has rules for "Images & Media (Inside the text)". This implies we SHOULD show them. 
     So I will remove .thumb, .tright, .tleft from the hide list and instead style them. 
     However, standard wiki formatting is floaty and messy. I'll make them block/centered or allow them to flow.
     Let's allow .thumb but reset its styles.
  */
  .mw-editsection,
  .mw-empty-elt,
  .shortdescription,
  .sidebar,
  .sistersitebox,
  .metadata {
    display: none !important;
  }

  /* Style Hatnotes (Redirects) */
  .hatnote {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    /* 12px */
    color: var(--theme-accent);
    border: 1px solid var(--theme-accent);
    padding: 0.5rem 1rem;
    margin-bottom: 2rem;
    background: rgba(255, 255, 255, 0.05);
    /* Neutral bg */
    display: inline-block;
  }

  /* Style References as tiny neon dots */
  .reference {
    font-size: 0;
    vertical-align: super;
  }

  .reference a {
    font-size: 0.6rem;
    color: var(--theme-accent) !important;
    background: none !important;
    border: none !important;
    font-family: var(--font-mono);
  }

  /* ... Typography ... */
  p {
    font-family: var(--font-body);
    font-size: 1.125rem;
    line-height: 1.7;
    color: #E0E0E0;
    margin-bottom: 1.5rem;
  }

  p:first-of-type {
    font-size: 1.375rem;
    color: white;
    font-style: italic;
    font-weight: 300;
  }

  /* ... Headlines ... */
  h2 {
    font-family: var(--font-display);
    font-weight: 800;
    font-size: 2.5rem;
    color: white;
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    position: relative;
    display: inline-block;
    border-bottom: 2px solid var(--theme-accent);
    padding-bottom: 0.5rem;
    line-height: 1.1;
  }

  h2::before {
    content: "/// ";
    color: var(--theme-accent);
    margin-right: 0.5rem;
  }

  h3 {
    font-family: var(--font-mono);
    font-weight: 700;
    font-size: 1.25rem;
    text-transform: uppercase;
    color: var(--theme-accent);
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    letter-spacing: 0.05em;
  }

  /* Links */
  a {
    color: white;
    text-decoration: none;
    font-weight: 700;
    background-image: linear-gradient(to top, var(--theme-accent) 20%, transparent 20%);
    background-size: 100% 20%;
    background-position: bottom;
    background-repeat: no-repeat;
    transition: background-size 0.2s ease, color 0.2s ease;
  }

  a:hover {
    background-size: 100% 100%;
    color: black;
  }

  /* Lists & Blockquotes */
  ul li::before {
    content: '+';
    color: var(--theme-accent);
    font-weight: bold;
    font-family: var(--font-mono);
    position: absolute;
    left: 0;
  }

  blockquote {
    border-left: 4px solid var(--theme-accent);
    background: rgba(255, 255, 255, 0.05);
    font-family: var(--font-mono);
    font-style: italic;
    padding: 1.25rem;
    margin: 2rem 0;
    color: white;
  }

  /* Images */
  img:hover {
    filter: grayscale(0%);
    transform: scale(1.02);
    box-shadow: 10px 10px 0px var(--theme-accent);
  }

  figcaption,
  .thumbcaption {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    text-transform: uppercase;
    background: black;
    color: var(--theme-accent);
    padding: 0.25rem 0.5rem;
    display: inline-block;
    margin-top: 0.5rem;
    border: 1px solid var(--theme-accent);
  }

  /* Restore Tables specifically for data-like tables but style them? 
     Prompt didn't ask for tables, user said "transform wall of text".
     Wikipedia tables are usually ugly. I'll hide them unless they are simple.
     Actually, previous CSS hid tables. I'll keep hiding them for the clean "Log" look unless requested. */
  table {
    display: none !important;
  }
}

/* Glitch Hover Effect */
@layer utilities {
  .hover-glitch {
    position: relative;
    overflow: hidden;
  }

  .hover-glitch::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--color-neon-green);
    /* Glitch color */
    transform: translateX(-101%);
    /* Start hidden */
    transition: transform 0ms;
    /* Instant, no smooth slide usually */
    z-index: -1;
  }

  .hover-glitch:hover::after {
    transform: translateX(0);
  }

  .hover-glitch:hover {
    color: black;
    /* Text becomes black on green bg */
    font-weight: bold;
    text-shadow: 2px 0 0 red, -2px 0 0 blue;
    /* Slight chromatic aberration */
  }
}


/* Kinetic Marquee Animations */
@keyframes marquee {
  0% {
    transform: translateX(0%);
  }

  100% {
    transform: translateX(-100%);
  }
}

@keyframes marquee2 {
  0% {
    transform: translateX(100%);
  }

  100% {
    transform: translateX(0%);
  }
}

.animate-marquee {
  animation: marquee 25s linear infinite;
}

.animate-marquee2 {
  animation: marquee2 25s linear infinite;
}

/* Floating Shapes Animations */
@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-20px);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.animate-float-slow {
  animation: float 6s ease-in-out infinite;
}

.animate-float-medium {
  animation: float 4s ease-in-out infinite;
}

.animate-float-fast {
  animation: float 3s ease-in-out infinite;
}

.animate-spin-slow {
  animation: spin 12s linear infinite;
}

.animate-spin-reverse-slow {
  animation: spin 15s linear infinite reverse;
}

/* --- CYBER-ASSET IMAGERY --- */
.nicopedia-content figure,
.nicopedia-content img {
  filter: grayscale(100%) contrast(120%);
  border: 3px solid #333;
  box-shadow: none;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.nicopedia-content figure:hover,
.nicopedia-content img:hover {
  filter: grayscale(0%) contrast(100%);
  border-color: var(--theme-accent);
  box-shadow: 8px 8px 0px black;
  transform: translate(-4px, -4px);
}

.nicopedia-content figcaption {
  font-family: 'Space Mono', monospace;
  font-size: 12px;
  text-transform: uppercase;
  background-color: black;
  color: var(--theme-accent);
  padding: 4px 12px;
  display: inline-block;
  margin-top: -10px;
  /* Overlap effect */
  position: relative;
  border: 1px solid var(--theme-accent);
}

.nicopedia-content figcaption::before {
  content: "/// DATA_CAPTION: ";
  opacity: 0.5;
}

/* --- SCROLL ANCHORS --- */
.nicopedia-content h2,
.nicopedia-content h3 {
  scroll-margin-top: 120px;
  position: relative;
}

/* Ensure smooth scrolling globally */
html {
  scroll-behavior: smooth;
}